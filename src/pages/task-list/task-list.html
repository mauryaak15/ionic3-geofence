<!--
  Generated template for the TaskListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-buttons left>
            <button ion-button menuToggle> 
                <ion-icon name="menu"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title>All Task</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-fab bottom right>
        <button ion-fab style="background-color: #222" (click)="addTask()">
            <ion-icon name="add"></ion-icon>
        </button>
    </ion-fab>
    <ion-list *ngIf="tasks.length > 0; else noTask" no-lines>
        <ion-item-sliding #item *ngFor="let task of tasks | filterTask:flag; let c = count">
            <ion-item>
                <ion-avatar item-left>
                    <img src="http://via.placeholder.com/50x50">
                </ion-avatar>
                <ion-badge float-right>{{ task.label }}</ion-badge>
                <ion-icon class="complete-tick" *ngIf="task.isComplete == '1'" name="checkmark" color="success" float-right></ion-icon>
                <h2>{{ task.title }}</h2>
                <p float-right>{{ task.creationDate }}</p>
                <p>{{ task.desc | truncate:[15, '...']}}</p>
            </ion-item>
            <ion-item-options side="left">
                <button ion-button color="success" (click)="markComplete(task, item)">
                    <ion-icon name="checkmark-circle"></ion-icon>
                    Mark Complete
                </button>
                <button ion-button color="primary" (click)="getNearByPlaces(task.addr, item)">
                    <ion-icon name="navigate"></ion-icon>
                    Near By
                </button>
            </ion-item-options>
        
            <ion-item-options side="right">
                <button ion-button color="c-yellow" (click)="editTask(task, item)">
                    <ion-icon name="create"></ion-icon>
                    Edit
                </button>
                <button ion-button color="danger" (click)="deleteTask(task, item)">
                    <ion-icon name="trash"></ion-icon>
                    Delete
                </button>
            </ion-item-options>
        </ion-item-sliding>
        
    </ion-list>
    <ng-template #noTask>
        <p padding>No Task Found</p>
    </ng-template>
</ion-content>
